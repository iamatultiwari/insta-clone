{"ast":null,"code":"var _jsxFileName = \"C:\\\\insta\\\\demo\\\\MERN-Instagram-clone-main\\\\client\\\\src\\\\components\\\\screens\\\\SignIn.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport '../styles/SignIn.css';\nimport logo from '../../images/insta_logo.png';\nimport phoneImg from '../../images/insta_bg_img.png';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { LoginContext } from '../../context/LoginState';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst base_uri = process.env.REACT_APP_BASE_URL;\nexport default function SignIn() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setUserLogin\n  } = useContext(LoginContext);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  // Toast functions\n  const notifyA = msg => toast.success(msg);\n  const notifyB = msg => toast.error(msg);\n\n  // Redirect if already logged in\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) navigate('/');\n  }, [navigate]);\n  const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n  const postUser = () => {\n    // Validate email\n    if (!emailRegex.test(email)) {\n      notifyB('Invalid Email');\n      return;\n    }\n    fetch(`${base_uri}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.error) {\n        notifyB(data.error);\n      } else {\n        notifyA(data.message);\n        localStorage.setItem('jwt', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        setUserLogin(true);\n        navigate('/');\n      }\n    }).catch(error => {\n      console.error('Error:', error);\n      notifyB('Server unreachable');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"phone-img-div\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"phone-img\",\n        src: phoneImg,\n        alt: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signIn-parent\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signIn-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo-img\",\n          src: logo,\n          alt: \"Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-div-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"input-fields\",\n              name: \"email\",\n              placeholder: \"Email\",\n              value: email,\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-div-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"input-fields\",\n              name: \"password\",\n              placeholder: \"Password\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-div\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-65\",\n              role: \"button\",\n              onClick: postUser,\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"have-acc-2\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"have-acc-text-2\",\n          children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link\",\n            to: \"/signup\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"log-in\",\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(SignIn, \"1NPg2AtXbZMwqGZ/IhqXK88Z3bI=\", false, function () {\n  return [useNavigate];\n});\n_c = SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useContext","useEffect","useState","logo","phoneImg","Link","useNavigate","LoginContext","toast","jsxDEV","_jsxDEV","base_uri","process","env","REACT_APP_BASE_URL","SignIn","_s","navigate","setUserLogin","email","setEmail","password","setPassword","notifyA","msg","success","notifyB","error","token","localStorage","getItem","emailRegex","postUser","test","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","setItem","user","catch","console","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","name","placeholder","value","onChange","e","target","role","onClick","to","_c","$RefreshReg$"],"sources":["C:/insta/demo/MERN-Instagram-clone-main/client/src/components/screens/SignIn.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport '../styles/SignIn.css';\nimport logo from '../../images/insta_logo.png';\nimport phoneImg from '../../images/insta_bg_img.png';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { LoginContext } from '../../context/LoginState';\nimport { toast } from 'react-toastify';\n\nconst base_uri = process.env.REACT_APP_BASE_URL;\n\nexport default function SignIn() {\n    const navigate = useNavigate();\n    const { setUserLogin } = useContext(LoginContext);\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    // Toast functions\n    const notifyA = (msg) => toast.success(msg);\n    const notifyB = (msg) => toast.error(msg);\n\n    // Redirect if already logged in\n    useEffect(() => {\n        const token = localStorage.getItem('jwt');\n        if (token) navigate('/');\n    }, [navigate]);\n\n    const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n    const postUser = () => {\n        // Validate email\n        if (!emailRegex.test(email)) {\n            notifyB('Invalid Email');\n            return;\n        }\n\n        fetch(`${base_uri}/signin`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ email, password }),\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                if (data.error) {\n                    notifyB(data.error);\n                } else {\n                    notifyA(data.message);\n                    localStorage.setItem('jwt', data.token);\n                    localStorage.setItem('user', JSON.stringify(data.user));\n                    setUserLogin(true);\n                    navigate('/');\n                }\n            })\n            .catch((error) => {\n                console.error('Error:', error);\n                notifyB('Server unreachable');\n            });\n    };\n\n    return (\n        <div className=\"box2\">\n            <div className=\"phone-img-div\">\n                <img className=\"phone-img\" src={phoneImg} alt=\"Phone\" />\n            </div>\n            <div className=\"signIn-parent\">\n                <div className=\"signIn-box\">\n                    <img className=\"logo-img\" src={logo} alt=\"Logo\" />\n                    <div className=\"form-container2\">\n                        <div className=\"input-div-2\">\n                            <input\n                                type=\"email\"\n                                className=\"input-fields\"\n                                name=\"email\"\n                                placeholder=\"Email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                        </div>\n                        <div className=\"input-div-2\">\n                            <input\n                                type=\"password\"\n                                className=\"input-fields\"\n                                name=\"password\"\n                                placeholder=\"Password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                        </div>\n                        <div className=\"button-div\">\n                            <button\n                                className=\"button-65\"\n                                role=\"button\"\n                                onClick={postUser}\n                            >\n                                Log in\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"have-acc-2\">\n                    <p className=\"have-acc-text-2\">\n                        Don't have an account?{' '}\n                        <Link className=\"link\" to=\"/signup\">\n                            <span className=\"log-in\">Sign up</span>\n                        </Link>\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}