{"ast":null,"code":"import{useContext,useEffect}from'react';import'./App.css';import Home from'./components/screens/Home';import Navbar from'./components/screens/Navbar';import SignIn from'./components/screens/SignIn';import SignUp from'./components/screens/SignUp';import{BrowserRouter,Routes,Route}from\"react-router-dom\";import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{LoginContext}from'./context/LoginState';import Modal from'./components/screens/Modal';import CreatePost from'./components/screens/CreatePost';import Profile from'./components/screens/Profile';import MyFollowingPost from'./components/screens/MyFollowingPost';import UserProfile from'./components/screens/UserProfile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let base_uri=process.env.REACT_APP_BASE_URL;function App(){const{modalOpen}=useContext(LoginContext);const{loggedUser,setLoggedUser}=useContext(LoginContext);useEffect(()=>{if(localStorage.getItem(\"user\")){fetch(\"\".concat(base_uri,\"/user/\").concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{setLoggedUser(result.user);});}},[loggedUser?loggedUser.Photo:[]]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(SignIn,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/createPost\",element:/*#__PURE__*/_jsx(CreatePost,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/followingpost\",element:/*#__PURE__*/_jsx(MyFollowingPost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userid\",element:/*#__PURE__*/_jsx(UserProfile,{})})]}),/*#__PURE__*/_jsx(ToastContainer,{theme:\"dark\"}),modalOpen&&/*#__PURE__*/_jsx(Modal,{})]});}export default App;","map":{"version":3,"names":["useContext","useEffect","Home","Navbar","SignIn","SignUp","BrowserRouter","Routes","Route","ToastContainer","LoginContext","Modal","CreatePost","Profile","MyFollowingPost","UserProfile","jsx","_jsx","jsxs","_jsxs","base_uri","process","env","REACT_APP_BASE_URL","App","modalOpen","loggedUser","setLoggedUser","localStorage","getItem","fetch","concat","JSON","parse","_id","headers","then","res","json","result","user","Photo","children","path","element","exact","theme"],"sources":["C:/insta/demo/MERN-Instagram-clone-main/client/src/App.js"],"sourcesContent":["import { useContext, useEffect } from 'react';\nimport './App.css';\nimport Home from './components/screens/Home';\nimport Navbar from './components/screens/Navbar';\nimport SignIn from './components/screens/SignIn';\nimport SignUp from './components/screens/SignUp';\nimport {\n  BrowserRouter,\n  Routes,\n  Route\n} from \"react-router-dom\"\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { LoginContext } from './context/LoginState';\nimport Modal from './components/screens/Modal';\nimport CreatePost from './components/screens/CreatePost';\nimport Profile from './components/screens/Profile';\nimport MyFollowingPost from './components/screens/MyFollowingPost';\nimport UserProfile from './components/screens/UserProfile';\nlet base_uri = process.env.REACT_APP_BASE_URL;\n\nfunction App() {\n\n  const {modalOpen} = useContext(LoginContext)\n  const {loggedUser, setLoggedUser} = useContext(LoginContext)\n\n  useEffect(()=>{\n    if(localStorage.getItem(\"user\")){\n      fetch(`${base_uri}/user/${JSON.parse(localStorage.getItem(\"user\"))._id}`, {\n        headers: {\n          \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n        }\n      }).then(res => res.json())\n      .then((result)=>{\n        setLoggedUser(result.user)\n      })\n    }\n  }, [loggedUser ? loggedUser.Photo : [] ])\n\n  return (\n    <BrowserRouter>\n    <Navbar/>\n      <Routes>\n        <Route path='/signup' element={<SignUp/>} />\n        <Route path='/signin' element={<SignIn/>} />\n        <Route path='/' element={<Home/>} />\n        <Route path='/createPost' element={<CreatePost/>} />\n        <Route exact path='/profile' element={<Profile/>} />\n        <Route path='/followingpost' element={<MyFollowingPost/>} />\n        <Route path='/profile/:userid' element={<UserProfile/>} />\n      </Routes>\n      <ToastContainer theme='dark' />\n      {modalOpen && <Modal/>}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}