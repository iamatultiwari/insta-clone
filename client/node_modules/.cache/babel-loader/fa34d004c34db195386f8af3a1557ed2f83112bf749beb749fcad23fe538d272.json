{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import\"../styles/PostDetail.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let base_uri=process.env.REACT_APP_BASE_URL;export default function PostDetail(_ref){let{item,user,toggleDetails}=_ref;const navigate=useNavigate();var picLink=\"https://cdn-icons-png.flaticon.com/512/3177/3177440.png\";//Toast notification\nconst notifyA=data=>toast.success(data);const notifyB=data=>toast.error(data);const removePost=postId=>{if(window.confirm(\"Do you really want to remove this post ?\")){fetch(\"\".concat(base_uri,\"/deletePost/\").concat(postId),{method:\"delete\",headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);toggleDetails();navigate('/');notifyA(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:user.Photo?user.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",children:/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined\",onClick:()=>{removePost(item._id);},children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(comment=>{return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]},comment._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\",children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:()=>{toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}","map":{"version":3,"names":["React","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","base_uri","process","env","REACT_APP_BASE_URL","PostDetail","_ref","item","user","toggleDetails","navigate","picLink","notifyA","data","success","notifyB","error","removePost","postId","window","confirm","fetch","concat","method","headers","localStorage","getItem","then","res","json","result","console","log","message","className","children","src","photo","alt","style","borderBottom","Photo","name","class","onClick","_id","comments","map","comment","fontWeight","postedBy","likes","length","body","type","placeholder"],"sources":["C:/insta/demo/MERN-Instagram-clone-main/client/src/components/screens/PostDetail.js"],"sourcesContent":["import React from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport \"../styles/PostDetail.css\"\nlet base_uri = process.env.REACT_APP_BASE_URL\n\nexport default function PostDetail({item, user, toggleDetails}) {\n    const navigate = useNavigate()\n    var picLink = \"https://cdn-icons-png.flaticon.com/512/3177/3177440.png\"\n\n    //Toast notification\n    const notifyA = (data) => toast.success(data)\n    const notifyB = (data) => toast.error(data)\n\n    const removePost =(postId) =>{\n        if(window.confirm(\"Do you really want to remove this post ?\")){\n            fetch(`${base_uri}/deletePost/${postId}`, {\n                method: \"delete\",\n                headers: {\n                    \"Authorization\": \"Bearer \"+ localStorage.getItem(\"jwt\")\n                },\n            })\n            .then((res)=> res.json())\n            .then((result)=>{\n                console.log(result)\n                toggleDetails();\n                navigate('/')\n                notifyA(result.message)\n            })\n        }\n    }\n\n  return (\n    <div className=\"showComment\">\n          <div className=\"container\">\n            <div className=\"postPic\">\n              <img src={item.photo} alt=\"\" />\n            </div>\n\n            <div className=\"details\">\n\n              {/* card header */}\n              <div className=\"card-header\" style={{borderBottom: \"1px solid #00000029\"}} >\n                <div className=\"card-pic\">\n                  <img src={user.Photo ? user.Photo : picLink} alt=\"\" />\n                </div>\n                <h5>{user.name}</h5>\n                <div className=\"deletePost\">\n                <span class=\"material-symbols-outlined\" onClick={()=>{removePost(item._id)}} >\n                    delete</span>\n                </div>\n              </div>\n\n              {/* comment section */}\n              <div className=\"comment-section\" style={{borderBottom: \"1px solid #00000029\"}} >\n                {item.comments.map((comment)=>{\n                  return (\n                    <p className=\"comm\" key={comment._id}>\n                      <span className=\"commenter\" style={{fontWeight: \"bolder\"}} >{comment.postedBy.name} </span>\n                      <span className=\"commentText\">{comment.comment}</span>\n                    </p>\n                  )\n                })}\n              </div>\n\n              {/* card content */}\n\n              <div className=\"card-content\">\n                <p>{item.likes.length} likes</p>\n                <p>{item.body}</p>\n              </div>\n\n              {/* add comments */}\n              <div className=\"add-comment\">\n              <span class=\"material-symbols-outlined\">mood</span>\n              <input type=\"text\" placeholder='Add a comment' />\n              <button className=\"comment\" >\n                Post\n              </button>\n              </div>\n\n            </div>\n          </div>\n\n          {/* close comment button */}\n            <div className=\"close-comment\" onClick={()=>{toggleDetails()}}>\n            <span class=\"material-symbols-outlined material-symbols-outlined-comment\">close</span>\n            </div>\n\n        </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}