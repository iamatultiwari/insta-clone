{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../styles/SignUp.css';import logo from'../../images/insta_logo.png';import{toast}from'react-toastify';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";let base_uri=process.env.REACT_APP_BASE_URL;export default function SignUp(){useEffect(()=>{const token=localStorage.getItem(\"jwt\");if(token){navigate('/');}});const navigate=useNavigate();const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[userName,setUserName]=useState(\"\");const[password,setPassword]=useState(\"\");//toast functions\nconst notifyA=data=>toast.success(data);const notifyB=data=>toast.error(data);const emailRegex=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;const passwordRegex=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;const postUser=()=>{//checking email and password\nif(!emailRegex.test(email)){notifyB('Invalid email');return;}else if(!passwordRegex.test(password)){notifyB('Password must contain at least 8 characters, including at least 1 number and must include both lower and uppercase letters and special characters for example #,?,! ');return;}fetch(\"\".concat(base_uri,\"/signup\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,userName:userName,password:password})}).then(response=>response.json()).then(data=>{if(data.error){notifyB(data.error);}else{notifyA(data.message);navigate('/signin');}}).catch(error=>{console.error('Error:',error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signUp-box\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo-img\",src:logo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"signUp-para\",children:\"Sign up to see photos and videos from your friends.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-div\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"input-fields\",name:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-div\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-fields\",name:\"name\",placeholder:\"Full Name\",value:name,onChange:e=>setName(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-div\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-fields\",name:\"userName\",placeholder:\"Username\",value:userName,onChange:e=>setUserName(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-div\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"input-fields\",name:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"pp-text\",children:\"By signing up, you agree to our Terms , Privacy Policy and Cookies Policy .\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-div\",children:/*#__PURE__*/_jsx(\"button\",{class:\"button-65\",role:\"button\",onClick:()=>{postUser();},children:\"Sign up\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"have-acc\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"have-acc-text\",children:[\"Have an account ? \",/*#__PURE__*/_jsxs(Link,{className:\"link\",to:'/signin',children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"log-in\",children:\"Log in\"}),\" \"]}),\" \"]})})]})});}","map":{"version":3,"names":["React","useEffect","useState","logo","toast","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","base_uri","process","env","REACT_APP_BASE_URL","SignUp","token","localStorage","getItem","navigate","name","setName","email","setEmail","userName","setUserName","password","setPassword","notifyA","data","success","notifyB","error","emailRegex","passwordRegex","postUser","test","fetch","concat","method","headers","body","JSON","stringify","then","response","json","message","catch","console","children","className","src","alt","type","placeholder","value","onChange","e","target","class","role","onClick","to"],"sources":["C:/insta/demo/MERN-Instagram-clone-main/client/src/components/screens/SignUp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../styles/SignUp.css'\nimport logo from  '../../images/insta_logo.png'\nimport {toast} from 'react-toastify'\nimport { Link, useNavigate } from 'react-router-dom'\nlet base_uri = process.env.REACT_APP_BASE_URL\n\nexport default function SignUp() {\n\n    useEffect(()=>{\n        const token = localStorage.getItem(\"jwt\")\n        if(token){\n            navigate('/')\n        }\n    })\n\n    const navigate = useNavigate()\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [userName, setUserName] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    //toast functions\n    const notifyA = (data)=> toast.success(data)\n    const notifyB = (data)=> toast.error(data)\n\n    const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n    const passwordRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/\n\n    const postUser =()=>{\n\n        //checking email and password\n        if(!emailRegex.test(email)){\n            notifyB('Invalid email');\n            return\n        }else if(!passwordRegex.test(password)){\n            notifyB('Password must contain at least 8 characters, including at least 1 number and must include both lower and uppercase letters and special characters for example #,?,! ');\n            return\n        }\n\n        fetch(`${base_uri}/signup`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: name,\n                email: email,\n                userName: userName,\n                password: password\n            })\n        }).then(response => response.json())\n          .then(data =>{\n            if(data.error){\n                notifyB(data.error)\n            }else{\n                notifyA(data.message)\n                navigate('/signin')\n            }\n          })\n          .catch((error) => {\n            console.error('Error:', error);\n          });\n    }\n  return (\n    <>\n    <div className=\"box\">\n        <div className=\"signUp-box\">\n                <img className='logo-img' src={logo} alt=\"\" />\n            <div className=\"form-container\">\n                <p className='signUp-para'>Sign up to see photos and videos from your friends.</p>\n                <div className='input-div' >\n                <input type=\"email\" className='input-fields' name='email' placeholder='Email' value={email} onChange={(e)=> setEmail(e.target.value)} />\n                </div>\n                <div className='input-div' >\n                <input type=\"text\" className='input-fields' name='name' placeholder='Full Name' value={name} onChange={(e)=> setName(e.target.value)}  />\n                </div>\n                <div className='input-div' >\n                <input type=\"text\" className='input-fields' name='userName' placeholder='Username' value={userName} onChange={(e)=> setUserName(e.target.value)}  />\n                </div>\n                <div className='input-div' >\n                <input type=\"password\" className='input-fields' name='password' placeholder='Password' value={password} onChange={(e)=> setPassword(e.target.value)} />\n                </div>\n                <div className='pp-text'>By signing up, you agree to our Terms , Privacy Policy and Cookies Policy .</div>\n                <div className='button-div'>\n                    <button class=\"button-65\" role=\"button\" onClick={()=> {postUser()}} >Sign up</button>\n                </div>\n            </div>\n        </div>\n        <div className=\"have-acc\">\n            <p className='have-acc-text'>Have an account ? <Link className='link' to={'/signin'}> <span className='log-in'>Log in</span> </Link> </p>\n        </div>\n    </div>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}